import random
import sys
import re


x = 0
#alle nuttige data

#alle mogelijke noten
noten = ['A', 'A#/Bb', 'B', 'C', 'C#/Db', 'D', 'D#/Eb', 'E', 'F', 'F#/Gb', 'G', 'G#/Ab']

#alle modes van de major scale
modes = ['Ionian',
 'Dorian',
 'Phrygian',
 'Lydian',
 'Mixolydian',
 'Aeolian',
 'Locrian']

#alle technieken waarmee ik de modes wil oefenen
technieken = ['gallops',
 'elke noot 1 keer spelen',
 'triplets',
 'gallops',
 'legato',
 'elke noot 2 keer spelen',
 'string skipping']

#een dictionary dat de overeenkomstige fret op de B snaar teruggeeft
rootNoteFret = {'B':0, 'C':1, 'C#/Db':2, 'D':3, 'D#/Eb':4, 'E':5, 'F':6, 'F#/Gb':7, 'G':8, 'G#/Ab':9, 'A':10, 'A#/Bb':11}

#een dictionary dat de tab bij de overeenkomstige mode teruggeeft
tab = {'Ionian':
'e|-------------------------------------------------------x+2-x+4-x+6-|\n' +\
'B|----------------------------------------------x+2-x+4-x+5----------|\n' +\
'G|-------------------------------------x+1-x+3-x+4-------------------|\n' +\
'D|----------------------------x+1-x+2-x+4----------------------------|\n' +\
'A|-------------------x+1-x+2-x+4-------------------------------------|\n' +\
'E|----------x+0-x+2-x+4----------------------------------------------|\n' +\
'B|-x+0-x+2-x+4-------------------------------------------------------|\n'
,
'Dorian':
'e|-------------------------------------------------------x+2-x+4-x+5-|\n' +\
'b|----------------------------------------------x+2-x+3-x+5----------|\n' +\
'G|-------------------------------------x+1-x+2-x+4-------------------|\n' +\
'D|----------------------------x+0-x+2-x+4----------------------------|\n' +\
'A|-------------------x+0-x+2-x+4-------------------------------------|\n' +\
'E|----------x+0-x+2-x+4----------------------------------------------|\n' +\
'B|-x+0-x+2-x+3-------------------------------------------------------|\n'
,
'Phrygian':
'e|-------------------------------------------------------x+2-x+3-x+5-|\n' +\
'b|----------------------------------------------x+1-x+3-x+5----------|\n' +\
'G|-------------------------------------x+0-x+2-x+4-------------------|\n' +\
'D|----------------------------x+0-x+2-x+4----------------------------|\n' +\
'A|-------------------x+0-x+2-x+3-------------------------------------|\n' +\
'E|----------x+0-x+2-x+3----------------------------------------------|\n' +\
'B|-x+0-x+1-x+3-------------------------------------------------------|\n'
 ,
'Lydian':
'e|-------------------------------------------------------x+2-x+4-x+6-|\n' +\
'b|----------------------------------------------x+2-x+4-x+6----------|\n' +\
'G|-------------------------------------x+1-x+3-x+4-------------------|\n' +\
'D|----------------------------x+1-x+3-x+4----------------------------|\n' +\
'A|-------------------x+1-x+2-x+4-------------------------------------|\n' +\
'E|----------x+1-x+2-x+4----------------------------------------------|\n' +\
'B|-x+0-x+2-x+4-------------------------------------------------------|\n'
,
 'Mixolydian':
'e|-------------------------------------------------------x+2-x+4-x+5-|\n' +\
'b|----------------------------------------------x+2-x+4-x+5----------|\n' +\
'G|-------------------------------------x+1-x+2-x+4-------------------|\n' +\
'D|----------------------------x+1-x+2-x+4----------------------------|\n' +\
'A|-------------------x+0-x+2-x+4-------------------------------------|\n' +\
'E|----------x+0-x+2-x+4----------------------------------------------|\n' +\
'B|-x+0-x+2-x+4-------------------------------------------------------|\n'
 ,
'Aeolian':
'e|-------------------------------------------------------x+2-x+3-x+5-|\n' +\
'b|----------------------------------------------x+2-x+3-x+5----------|\n' +\
'G|-------------------------------------x+0-x+2-x+4-------------------|\n' +\
'D|----------------------------x+0-x+2-x+4----------------------------|\n' +\
'A|-------------------x+0-x+2-x+4-------------------------------------|\n' +\
'E|----------x+0-x+2-x+3----------------------------------------------|\n' +\
'B|-x+0-x+2-x+3-------------------------------------------------------|\n'
,
'Locrian':
'e|-------------------------------------------------------x+1-x+3-x+5-|\n' +\
'b|----------------------------------------------x+1-x+3-x+5----------|\n' +\
'G|-------------------------------------x+0-x+2-x+4-------------------|\n' +\
'D|----------------------------x+0-x+2-x+3----------------------------|\n' +\
'A|-------------------x+0-x+2-x+3-------------------------------------|\n' +\
'E|----------x+0-x+1-x+3----------------------------------------------|\n' +\
'B|-x+0-x+1-x+3-------------------------------------------------------|\n'
}

formulae = {'Ionian' : '1,2,3,4,5,6,7,8', \
'Dorian' : '1,2,b3,4,5,6,b7,8', \
'Phrygian' : '1,b2,b3,4,5,b6,b7,8', \
'Lydian' : '1,2,3,#4,5,6,7,8', \
'Mixolydian' : '1,2,3,4,5,6,b7,8', \
'Aeolian' : '1,2,b3,4,5,b6,b7,8', \
'Locrian' : '1,b2,b3,4,b5,b6,b7,8'}
    


aantalScales = input("hoeveel oefeningen wil je maken?\n")
print('\n')
for i in range (int(aantalScales)):
    noot = random.randint(0,10)
    mode = random.randint(0,6)
    techniek = random.randint(0,6)
    print(noten[noot] + ' ' +modes[mode] + ', ' + technieken[techniek] +'\n' + 'formule: ' + formulae[modes[mode]] + '\n\n')
    
    #tab noteren:
    text = tab[modes[mode]]
    lijst1 = re.findall(r'\d+', text)
    lijst2 = []

    for i in range(0,len(lijst1)-1):
        lijst2.append(int(lijst1[i]))

    lijst3 = set(lijst2)
    lijst = []
    for i in lijst3:
        lijst.append(i)

    

    for i in lijst:
        patroon1 = str('x\+'+str(i))
        patroon2 = str(i+rootNoteFret[noten[noot]])

        numberRegex = re.compile(patroon1)
        text = numberRegex.sub(patroon2,text)
    
    print(text)
